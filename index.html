<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>My App</title>
    <link href="login.css" rel="stylesheet">
  </head>
  <body class="text-center">
      <script>
        function stringFlip() {
            const username = document.getElementById("imputString");
            const password = document.getElementById("generatedString");
            const upsideDown = document.getElementById("upsideDown");
            const reverse = document.getElementById("reverse");
            password.value = flip(username.value, upsideDown.checked, reverse.checked)
        }
        function flip(value, shouldFLip, shouldReverse) {
            var result = value.toLowerCase()
            if (shouldFLip == true) {
                result = flipString(result);   
            }
            if (shouldReverse == true) {
                result = reverseString(result)
            }
            return result
        }
          
        function flipString(aString) {
            var last = aString.length - 1;
            var result = new Array(aString.length)
            for (var i = 0; i <= last; i++) {
                var c = aString.charAt(i)
                var r = flipTable[c]
                result[i] = r != undefined ? r : c
            }
            return result.join('')
        }
          
        function reverseString(str) {
            var splitString = str.split("");
            var reverseArray = splitString.reverse();
            var joinArray = reverseArray.join("");
            return joinArray;
        }
          
          var flipTable = {
              a : '\u0250',
              b : 'q',
              c : '\u0254', 
              d : 'p',
              e : '\u01DD',
              f : '\u025F', 
              g : '\u0183',
              h : '\u0265',
              i : '\u0131', 
              j : '\u027E',
              k : '\u029E',
              l : '\u0283',
              m : '\u026F',
              n : 'u',
              r : '\u0279',
              t : '\u0287',
              v : '\u028C',
              w : '\u028D',
              y : '\u028E',
              '.' : '\u02D9',
              '[' : ']',
              '(' : ')',
              '{' : '}',
              '?' : '\u00BF',
              '!' : '\u00A1',
              "\'" : ',',
              '<' : '>',
              '_' : '\u203E',
              ';' : '\u061B',
              '\u203F' : '\u2040',
              '\u2045' : '\u2046',
              '\u2234' : '\u2235',
              '\r' : '\n' 
          }
      </script>
    <main class="form-signin">
      <form>
        <h1 class="h3 mb-3 fw-normal"><b>UPSIDE DOWN TEXT</b></h1>
        <div style="border: 3px solid #fff;padding: 20px">
            <div class="form-floating">
                <textarea type="text" class="form-control" id="imputString" onkeyup="stringFlip()" style="width: 80%;float: left;padding: 20px;"> </textarea>
            </div>
            <div class="form-floating">
            <textarea type="text" class="form-control" id="generatedString" style="width: 80%;float: left;padding: 20px;"></textarea>
            </div>
            <div>
                <input type="checkbox" type="checkbox" id="upsideDown" name="upside_down", onchange="stringFlip()">
                <label for="upsideDown">Upside Down</label>
                <input type="checkbox" type="reverse" id="reverse" name="reverse", onchange="stringFlip()">
                <label for="reverse">reverse</label>  
            </div>
        </div>
      </form>
    </main>
  </body>
</html>
